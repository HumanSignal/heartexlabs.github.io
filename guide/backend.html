

<!DOCTYPE html>
<html lang="en">
  <head><meta name="generator" content="Hexo 3.9.0">
      <title>Backend — Label Studio</title>
      <meta charset="utf-8">
      <meta name="description" content="Label Studio - label and annotate datasets">
      <meta name="viewport" content="width=device-width, initial-scale=1">

      <meta property="og:type" content="article">
      <meta property="og:title" content="Backend — Label Studio">
      <meta property="og:description" content="Label Studio - label and annotate datasets">
      <meta property="og:image" content="https://labelstud.io/images/opossum/heartex_icon_opossum_green@2x.png">

      <meta name="twitter:card" content="summary">
      <meta name="twitter:title" content="Backend — Label Studio">
      <meta name="twitter:description" content="Label Studio - label and annotate datasets">
      <meta name="twitter:image" content="https://labelstud.io/images/opossum/heartex_icon_opossum_green@2x.png">

      <meta name="msapplication-TileColor" content="#4fc08d">
      <meta name="theme-color" content="#4fc08d">

      <meta name="msapplication-config" content="browserconfig.xml">
      <link rel="manifest" href="/manifest.json">

      <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono" rel="stylesheet" type="text/css">
      <link href="//fonts.googleapis.com/css?family=Dosis:500&text=LabelStudio" rel="stylesheet" type="text/css">

      <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

      <!-- Place this tag in your head or just before your close body tag. -->
      <script async defer src="https://buttons.github.io/buttons.js"></script>
    
    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    
  </head>
  <body class="docs">
    <div id="mobile-bar">
        <a class="menu-button"></a>
        <a class="logo" href="/"></a>
    </div>
     <div id="header">
  <a id="logo" href="/">
    <img src="/images/ls_logo.png" alt="label studio logo">
    <span style="font-size: 1.2em;">Label Studio</span>
  </a>
  <ul id="nav" style="display: flex; align-items: center">
    

<span style="margin-right: 1em;">Guide</span>



<a style="margin-right: 1em; text-decoration: underline;" href="/tags">Tags</a>



<a style="margin-right: 1em; text-decoration: underline;" href="/templates">Templates</a>


<!-- Place this tag where you want the button to render. -->
<a class="github-button" href="https://github.com/heartexlabs/label-studio" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star heartexlabs/label-studio on GitHub">Star</a>



  </ul>
</div>
 
    
        <div id="main" class="fix-sidebar">
            
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      

<span style="margin-right: 1em;">Guide</span>



<a style="margin-right: 1em; text-decoration: underline;" href="/tags">Tags</a>



<a style="margin-right: 1em; text-decoration: underline;" href="/templates">Templates</a>


<!-- Place this tag where you want the button to render. -->
<a class="github-button" href="https://github.com/heartexlabs/label-studio" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star heartexlabs/label-studio on GitHub">Star</a>



    </ul>
    <div class="list">
      <ul class="menu-root">
  
    
      

      
    <li>
      <a href="/guide/index.html" class="sidebar-link">Introduction</a>
    </li>
    
    
      

      
    <li>
      <a href="/guide/format.html" class="sidebar-link">Format</a>
    </li>
    
    
      

      
    <li>
      <a href="/guide/converters.html" class="sidebar-link">Converters</a>
    </li>
    
    
      

      
    <li>
      <a href="/guide/embed.html" class="sidebar-link">Embed</a>
    </li>
    
    
      

      
    <li>
      <a href="/guide/backend.html" class="sidebar-link current">Backend</a>
    </li>
    
    
      

      
    <li>
      <a href="/guide/configuration.html" class="sidebar-link">UI Configuration</a>
    </li>
    

  <li style="position: absolute; bottom: 20px;">
    <img src="/images/opossum/other/5.svg" alt="label studio logo" height="120">
  </li>
</ul>

    </div>
  </div>
</div>


<div class="content guide with-sidebar backend-guide">
  
    
  
  
    <h1>Backend</h1>
    
  <h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><p>This is an example of the backend that can be used with the React frontend part. By default, the backend uses label tool scripts from ../build.</p>
<h2 id="Linux-amp-Ubuntu-guide"><a href="#Linux-amp-Ubuntu-guide" class="headerlink" title="Linux &amp; Ubuntu guide"></a>Linux &amp; Ubuntu guide</h2><ol>
<li>Install python and virtualenv. We recommend to use python 3.6, but probably python2 solution will work too.  </li>
</ol>
<pre><code class="hljs bash">apt install python3.6
pip3 install virtualenv</code></pre>

<ol start="2">
<li>Setup python virtual environment </li>
</ol>
<pre><code class="hljs bash">virtualenv -p python3 env3
<span class="hljs-built_in">source</span> env3/bin/activate</code></pre>

<ol start="3">
<li>Install requirements </li>
</ol>
<pre><code class="hljs bash">pip install -r requirements.txt</code></pre>

<ol start="4">
<li>Run service</li>
</ol>
<pre><code class="hljs bash">python server.py</code></pre>

<ol start="5">
<li>Go to <a href="http://localhost:8200" target="_blank" rel="noopener">http://localhost:8200</a></li>
</ol>
<h2 id="Backend-Config"><a href="#Backend-Config" class="headerlink" title="Backend Config"></a>Backend Config</h2><p>By default service.py uses config.json. But you may call it with your config: </p>
<pre><code class="hljs bash">python service.py -c &lt;your_config.json&gt;</code></pre>

<h3 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h3><p><strong>label_config</strong> configures UI for the Label tool.</p>
<pre><code class="hljs json">"label_config": "../examples/chatbot/config.xml"</code></pre>


<p><strong>input_path</strong> for tasks: it can be a file or a directory. In the case of the directory, it reads all the files and creates a list of tasks.</p>
<pre><code class="hljs json">"input_path": "./input/tasks.json"</code></pre>

<p><strong>output_dir</strong> is used to store completions (labeling results) in JSON format. output_dir will be created automatically. Each task is mapped to a corresponding completion JSON file.</p>
<pre><code class="hljs json">"output_dir": "./output"</code></pre>

<p>Example: task a.json and b.json consist of 3 tasks and there will be 6 completion files in output_dir: </p>
<pre><code class="hljs text">input/a.json = [&#123;&quot;text&quot;: &quot;0&quot;&#125;, &#123;&quot;text&quot;: &quot;1&quot;&#125;, &#123;&quot;text&quot;: &quot;2&quot;&#125;]
input/b.json = [&#123;&quot;text&quot;: &quot;3&quot;&#125;, &#123;&quot;text&quot;: &quot;4&quot;&#125;, &#123;&quot;text&quot;: &quot;5&quot;&#125;]

output/0.json = &#123;&quot;completions&quot;: [&#123;&quot;result&quot;: [...]&#125;], &quot;task&quot;: &#123;&quot;text&quot;: &quot;0&quot;&#125;&#125;  # a.json
output/1.json = &#123;&quot;completions&quot;: [&#123;&quot;result&quot;: [...]&#125;], &quot;task&quot;: &#123;&quot;text&quot;: &quot;1&quot;&#125;&#125;  # a.json
output/2.json = &#123;&quot;completions&quot;: [&#123;&quot;result&quot;: [...]&#125;], &quot;task&quot;: &#123;&quot;text&quot;: &quot;2&quot;&#125;&#125;  # a.json
output/3.json = &#123;&quot;completions&quot;: [&#123;&quot;result&quot;: [...]&#125;], &quot;task&quot;: &#123;&quot;text&quot;: &quot;3&quot;&#125;&#125;  # b.json
output/4.json = &#123;&quot;completions&quot;: [&#123;&quot;result&quot;: [...]&#125;], &quot;task&quot;: &#123;&quot;text&quot;: &quot;4&quot;&#125;&#125;  # b.json
output/5.json = &#123;&quot;completions&quot;: [&#123;&quot;result&quot;: [...]&#125;], &quot;task&quot;: &#123;&quot;text&quot;: &quot;5&quot;&#125;&#125;  # b.json</code></pre>

<p><strong>instruction</strong> Shows the instruction to a person who makes labeling</p>
<pre><code class="hljs json">"instruction": "Type something to label experts!"</code></pre>

<h2 id="Label-tool-options"><a href="#Label-tool-options" class="headerlink" title="Label tool options"></a>Label tool options</h2><p><strong>build_path</strong> points to the directory with JS, CSS and other media from Editor (React app).</p>
<pre><code class="hljs json">"editor": &#123;
  "build_path": "../build/static",
  "debug": false,
  "interfaces": [
    "basic",
    "panel",
    "submit",
    "submit:load",
    "side-column",
    "submit:skip",
    "submit:check-empty",
    "predictions:hide"
  ],
&#125;</code></pre>

<p><strong>title</strong> name of your service for the web</p>
<pre><code class="hljs json">"title": "Label Studio",</code></pre>

<p><strong>port</strong> and <strong>debug</strong> are web server settings</p>
<pre><code class="hljs json">"port": 8200,
"debug": true,</code></pre>

<ul>
<li>Python logger settings are concentrated in “logger” dict.</li>
</ul>
  
  
    <div class="guide-links">
      
      
        <span>← <a href="/guide/embed.html">Embed</a></span>
      
      
      
        <span style="float: right;"><a href="/guide/configuration.html">UI Configuration</a> →</span>
      
    </div>
  
  <div class="footer">    
      <!-- Caught a mistake or want to contribute to the documentation?
	   <a href="https://github.com/heartexlabs/label-studio/blob/master/src/guide/backend.md" target="_blank">
	   Edit this page on GitHub!
	   </a> -->
  </div>
</div>

        </div>
        <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>
    
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-129877673-4', 'auto');
	ga('send', 'pageview');
</script>

  </body>  
</html>
